{% extends "base.html" %}
{% block title %} Details for gist {{ gist.id }} {% endblock %}
{% block content %}

  <form id="submitform"  class="form-signin gist-edit" action="{% url 'edit_gist' gist.id %}" method="post">
    {% if error_message %}<p class="error"><strong>Error: {{ error_message }} </strong></p>{% endif %}
    {% csrf_token %}
    <input class="form-control" rows="20" type="textarea" name="text" value="{{ gist.text }}" />
    <br>
    <input type="submit" value="Save"/>
  </form>
  {% block userscript %}  

  <script>
      window.onload = function(){
	var textarea = $('input[name=text]')[0];

	var codeMirror = CodeMirror.fromTextArea(textarea, {
	  lineNumbers:true,
	  mode:"javascript",
	  smartIndent:true,
	});
      };
  </script>

  {% endblock %}
{% endblock %}
